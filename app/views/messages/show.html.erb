<div class="row">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
          <a class="navbar-brand" href="#">
            <img alt="Brand" src="/assets/logos/logo_cirmar_small.png" style="margin-top: -10px; margin-left: 10px;">
          </a>
      </div>
      <ul class="nav navbar-nav">
        <li><a href="/">Home</a></li>
<!--        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Page 1 <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Page 1-1</a></li>
            <li><a href="#">Page 1-2</a></li>
            <li><a href="#">Page 1-3</a></li>
          </ul>
        </li> -->
        <li><a href="/stats">Stats</a></li>
        <li class="dropdown active">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">AIS <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/messages">Messages</a></li>
            <li><a href="/covered_ships">Covered Ships</a></li>
          </ul>
        </li>
        <li><a href="/ships">Ships</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Metadonnees <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/metadonnees">Liste de métadonnées</a></li>
            <li><a href="/metadonnees/new">Fiche métadonnées</a></li>
          </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-user"></span> Welcome!</a></li>
        <li><a href="/users/sign_out"><span class="glyphicon glyphicon-log-out"></span> Log Out</a></li>
      </ul>
    </div>
  </nav>
  <br/>
  <br/>
  <br/>      	
	<div class="col-sm-1">
	</div>
	<div class="col-sm-10">
		<div class="panel panel-primary">
  		<div class="panel-heading">
        <h4 class="panel-title">Le Détail</h4>
  		</div>
      <div class="panel-body">
        <div class="row">
          <div class="col-sm-6">
            <p id="notice"><%= notice %></p>
              <% case @message.message_type
                  when 1..3
                %>
            				<p>
            				  <strong>Type:</strong>
            				  <%= @message.message_type %>
            				</p>

            				<p>
            				  <strong>Repeat Indicator:</strong>
            				  <%= @message.repeat_indicator %>
            				</p>

            				<p>
            				  <strong>MMSI:</strong>
            				  <%= @message.mmsi %>
            				</p>
                    <p>
                      <strong>Navigation Status:</strong>
                      <%= @message.navigation_status %>
                    </p>

                    <p>
                      <strong>Rate of Turn:</strong>
                      <%= @message.rate_of_turn %>
                    </p>

                    <p>
                      <strong>Speed Over Ground:</strong>
                      <%= @message.speed_over_ground %>
                    </p>

                    <p>
                      <strong>Position Accuracy:</strong>
                      <%= @message.position_accuracy %>
                    </p>
                    <p>
                      <strong>Longitude:</strong>
                      <%= @message.longitude %>
                    </p>
                    <p>
                      <strong>Latitude:</strong>
                      <%= @message.latitude %>
                    </p>

                    <p>
                      <strong>Course Over Ground:</strong>
                      <%= @message.course_over_ground %>
                    </p>

                    <p>
                      <strong>True Heading:</strong>
                      <%= @message.true_heading %>
                    </p>
                    <p>
                      <strong>Maneuver Indicator:</strong>
                      <%= @message.maneuver_indicator %>
                    </p>

                    <p>
                      <strong>Spare:</strong>
                      <%= @message.spare %>
                    </p>

                    <p>
                      <strong>RAIM:</strong>
                      <%= @message.raim %>
                    </p>
                    <p>
                      <strong>UTC Sec:</strong>
                      <%= @message.utc_sec %>
                    </p>
                    <p>
                      <strong>Received Date:</strong>
                      <%= @message.date %>
                    </p>
                  <% when 4 %>
                    <p>
                      <strong>Type:</strong>
                      <%= @message.message_type %>
                    </p>

                    <p>
                      <strong>Repeat Indicator:</strong>
                      <%= @message.repeat_indicator %>
                    </p>

                    <p>
                      <strong>MMSI:</strong>
                      <%= @message.mmsi %>
                    </p>
                    <p>
                      <strong>Latitude:</strong>
                      <%= @message.latitude %>
                    </p>
                    <p>
                      <strong>Longitude:</strong>
                      <%= @message.longitude %>
                    </p>
                    <p>
                      <strong>Spare:</strong>
                      <%= @message.spare %>
                    </p>

                    <p>
                      <strong>RAIM Flag:</strong>
                      <%= @message.raim_flag %>
                    </p>
                    <p>
                      <strong>Year:</strong>
                      <%= @message.year %>
                    </p>
                    <p>
                      <strong>Month:</strong>
                      <%= @message.month %>
                    </p>
                    <p>
                      <strong>Day:</strong>
                      <%= @message.day %>
                    </p>

                    <p>
                      <strong>Hour:</strong>
                      <%= @message.hour %>
                    </p>

                    <p>
                      <strong>Minute:</strong>
                      <%= @message.minute %>
                    </p>
                    <p>
                      <strong>Second:</strong>
                      <%= @message.second %>
                    </p>
                    <p>
                      <strong>mDate:</strong>
                      <%= @message.mDate %>
                    </p>
                    <p>
                      <strong>Sub Messages:</strong>
                      <%= @message.sub_messages %>
                    </p>

                    <p>
                      <strong>Position Accuracy:</strong>
                      <%= @message.position_accuracy %>
                    </p>
                    <p>
                      <strong>Slot Timeout:</strong>
                      <%= @message.slot_timeout %>
                    </p>
                    <p>
                      <strong>Sync State:</strong>
                      <%= @message.sync_state %>
                    </p> 
                    <p>
                      <strong>Received Date:</strong>
                      <%= @message.date %>
                    </p>                                                   
          <%   when 5 %>
                    <p>
                      <strong>Type:</strong>
                      <%= @message.message_type %>
                    </p>

                    <p>
                      <strong>Repeat Indicator:</strong>
                      <%= @message.repeat_indicator %>
                    </p>

                    <p>
                      <strong>MMSI:</strong>
                      <%= @message.mmsi %>
                    </p>

                    <p>
                      <strong>Spare:</strong>
                      <%= @message.spare %>
                    </p>
                    <p>
                      <strong>AIS Version:</strong>
                      <%= @message.ais_version %>
                    </p>

                    <p>
                      <strong>IMO Number:</strong>
                      <%= @message.imo_number %>
                    </p>

                    <p>
                      <strong>Call Sign:</strong>
                      <%= @message.call_sign %>
                    </p>

                    <p>
                      <strong>Vessel Name:</strong>
                      <%= @message.vessel_name %>
                    </p>
                    <p>
                      <strong>Ship Type:</strong>
                      <%= @message.ship_type %>
                    </p>
                      <strong>Dimension Bow:</strong>
                      <%= @message.dimension_bow %>
                    </p>

                    <p>
                      <strong>Dimension Stern:</strong>
                      <%= @message.dimension_stern %>
                    </p>

                    <p>
                      <strong>Dimension Port:</strong>
                      <%= @message.dimension_port %>
                    </p>
                    <p>
                      <strong>Dimension Starboard:</strong>
                      <%= @message.dimension_starboard %>
                    </p>   

                    <p>
                      <strong>Position Type:</strong>
                      <%= @message.position_type %>
                    </p>

                    <p>
                      <strong>ETA Date:</strong>
                      <%= @message.eta_date %>
                    </p>

                    <p>
                      <strong>Draught:</strong>
                      <%= @message.draught %>
                    </p>

                    <p>
                      <strong>Destination:</strong>
                      <%= @message.destination %>
                    </p>
                    <p>
                      <strong>DTE:</strong>
                      <%= @message.dte %>
                    </p>
                    <p>
                      <strong>Received Date:</strong>
                      <%= @message.date %>
                    </p>
           <% when 18 %>

                    <p>
                      <strong>Message Type:</strong>
                      <%= @message.message_type %>
                    </p>

                    <p>
                      <strong>Repeat Indicator:</strong>
                      <%= @message.repeat_indicator %>
                    </p>

                    <p>
                      <strong>MMSI:</strong>
                      <%= @message.mmsi %>
                    </p>     

                    <p>
                      <strong>Speed Over Ground:</strong>
                      <%= @message.speed_over_ground %>
                    </p>
                    <p>
                      <strong>Mode Flag:</strong>
                      <%= @message.mode_flag %>
                    </p>                
                    <p>
                      <strong>Comm State:</strong>
                      <%= @message.comm_state %>
                    </p>                
                    <p>
                      <strong>Comm State Selector Flag:</strong>
                      <%= @message.comm_state_selector_flag %>
                    </p> 
                    <p>
                      <strong>Position Accuracy:</strong>
                      <%= @message.position_accuracy %>
                    </p>
                    <p>
                      <strong>Latitude:</strong>
                      <%= @message.latitude %>
                    </p>
                    <p>
                      <strong>Longitude:</strong>
                      <%= @message.longitude %>
                    </p>

                    <p>
                      <strong>Course Over Ground:</strong>
                      <%= @message.course_over_ground %>
                    </p>     

                    <p>
                      <strong>True Heading:</strong>
                      <%= @message.true_heading %>
                    </p>
                    <p>
                      <strong>RAIM Flag:</strong>
                      <%= @message.raim_flag %>
                    </p>
                    <p>
                      <strong>Display Flag:</strong>
                      <%= @message.display_flag %>
                    </p>  
                    <p>
                      <strong>DSC Flag:</strong>
                      <%= @message.dsc_flag %>
                    </p>

                    <p>
                      <strong>Band Flag:</strong>
                      <%= @message.band_flag %>
                    </p> 
                    <p>
                      <strong>Unit Flag:</strong>
                      <%= @message.unit_flag %>
                    </p> 
                    <p>
                      <strong>Msg22 Flag:</strong>
                      <%= @message.msg22_flag %>
                    </p> 

                    <p>
                      <strong>Spare:</strong>
                      <%= @message.spare %>
                    </p>
                    <p>
                      <strong>UTC Sec:</strong>
                      <%= @message.utc_sec %>
                    </p>
                    <p>
                      <strong>Received Date:</strong>
                      <%= @message.date %>
                    </p>     
              <% when 19 %>

                    <p>
                      <strong>Message Type:</strong>
                      <%= @message.message_type %>
                    </p>

                    <p>
                      <strong>Repeat Indicator:</strong>
                      <%= @message.repeat_indicator %>
                    </p>

                    <p>
                      <strong>MMSI:</strong>
                      <%= @message.mmsi %>
                    </p>     
                    <p>
                      <strong>Spare 1:</strong>
                      <%= @message.spare1 %>
                    </p>
                    <p>
                      <strong>Spare 2:</strong>
                      <%= @message.spare2 %>
                    </p>
                    <p>
                      <strong>Spare 3:</strong>
                      <%= @message.spare3 %>
                    </p>
                    <p>
                      <strong>Speed Over Ground:</strong>
                      <%= @message.speed_over_ground %>
                    </p>

                    <p>
                      <strong>Position Accuracy:</strong>
                      <%= @message.position_accuracy %>
                    </p>
                    <p>
                      <strong>Latitude:</strong>
                      <%= @message.latitude %>
                    </p>
                    <p>
                      <strong>Longitude:</strong>
                      <%= @message.longitude %>
                    </p>

                    <p>
                      <strong>Course Over Ground:</strong>
                      <%= @message.course_over_ground %>
                    </p>     

                    <p>
                      <strong>True Heading:</strong>
                      <%= @message.true_heading %>
                    </p>
                    <p>
                      <strong>UTC Sec:</strong>
                      <%= @message.utc_sec %>
                    </p>
                    <p>
                      <strong>Vessel Name:</strong>
                      <%= @message.vessel_name %>
                    </p>
                    <p>
                      <strong>Ship Type:</strong>
                      <%= @message.ship_type %>
                    </p>
                      <strong>Dimension Bow:</strong>
                      <%= @message.dimension_bow %>
                    </p>

                    <p>
                      <strong>Dimension Stern:</strong>
                      <%= @message.dimension_stern %>
                    </p>

                    <p>
                      <strong>Dimension Port:</strong>
                      <%= @message.dimension_port %>
                    </p>
                    <p>
                      <strong>Dimension Starboard:</strong>
                      <%= @message.dimension_starboard %>
                    </p>
                    <p>
                      <strong>Position Type:</strong>
                      <%= @message.position_type %>
                    </p>
                    <p>
                      <strong>RAIM:</strong>
                      <%= @message.raim %>
                    </p>
                    <p>
                      <strong>RAIM Flag:</strong>
                      <%= @message.raim_flag %>
                    </p>
                    <p>
                      <strong>DTE:</strong>
                      <%= @message.dte %>
                    </p>
                    <p>
                      <strong>Mode Flag:</strong>
                      <%= @message.mode_flag %>
                    </p>
                    <p>
                      <strong>Received Date:</strong>
                      <%= @message.date %>
                    </p>                                                                                                                       
                <% end %>
              </div>
              <div class="col-sm-6">
                  <h4>Location</h4>
                  <div id="map"></div>

              </div>
            </div>
				<p align="right">
				<!-- <%= link_to 'Edit', edit_message_path(@message) %> | -->
				<%= link_to 'Back', messages_path %>
				</p>
			</div>
		</div>
	</div>
      	<div class="col-sm-1">
      	</div>
</div>

    <script>
      <% if @message.message_type != 5 %>
        function initMap() {
          var ltt = parseFloat('<%= @message.latitude %>');
          var lgt = parseFloat('<%= @message.longitude %>');
          var uluru = {lat: ltt, lng: lgt};
          var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 11,
            center: uluru
          });
          var marker = new google.maps.Marker({
            position: uluru,
            map: map
          });
        }
      <% else %>
        function initMap() {
        }
      <% end %>
    </script>

